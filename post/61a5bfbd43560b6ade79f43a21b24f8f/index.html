<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TCP/IP 是什么？ | 耀 の 部落阁 | Mark&#39;s BLOG</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png">
    <meta name="description" content="**本文大半内容都不对，弃了弃了~**自计算机和互联网出现，大多数计算机都被用于上网、发邮件或者只是通过网路使用一下网络共享打印机。计算机网络[^1]可以连接各种功能不一样的电子设备，例如笔记本电脑、平板电脑、智能手机、服务器、打印机、扫描仪、路由器等设备。如果说以上设备连上网络后都算是“传 ...">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#ffffff">
    <meta name="google-site-verification" content="DR-3xvCA7YBP7TIeg7__j5lxaniGh2pzocrfywyn8o0">
    <meta name="baidu-site-verification" content="zQef3H7nga">
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/css/0.styles.a7a5ffb3.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/app.5514714f.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/5.8f03a21b.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/19.a5ea0502.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/9.efcfe850.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/8.eec476d6.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/10.4e703af7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/11.7fbebba5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/12.1153c514.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/13.431f4376.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/14.67802fce.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/15.81486e67.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/16.a00417ee.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/17.b2b42cdc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/18.178007b0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/20.7721c23f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/21.882cb20b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/22.02b65dad.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/23.8a2ee7ba.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/24.9615ece1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/25.e8aefabe.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/26.e1c80f58.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/27.0b8c7966.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/28.f8cb5680.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/29.8c84a290.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/3.30cd915c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/30.af6dd8d3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/31.dacb6782.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/32.2a8ca38f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/33.9ca2b71c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/4.bb3505fc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/6.345ac3da.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/7.a4756390.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/vuejs-paginate.472882b3.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/css/0.styles.a7a5ffb3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="GlobalLayout skin-jshine" data-v-1134095c><!----> <div class="Launch" data-v-866ff42c data-v-1134095c><div class="avatar" style="background-image:url('/assets/img/avatar.png');" data-v-866ff42c></div></div> <div class="Spinner " data-v-4f39ff1c data-v-1134095c></div> <div class="Header" data-v-6b417cd2 data-v-1134095c><div class="ext " data-v-6b417cd2><i class="fas fa-cube" data-v-6b417cd2></i></div> <div class="sitename" data-v-6b417cd2><em><span>Mark's</span></em><strong><span>BLOG</span></strong></div> <div class="ext " data-v-6b417cd2><i class="fas fa-search" data-v-6b417cd2></i></div></div> <div class="Goingto" data-v-20c5c9da data-v-1134095c><div class="top" data-v-20c5c9da><i class="fas fa-arrow-up" data-v-20c5c9da></i></div> <div class="bottom" data-v-20c5c9da><i class="fas fa-arrow-down" data-v-20c5c9da></i></div></div> <div class="Addin" data-v-3d642fa2 data-v-1134095c><div class="top " data-v-3d642fa2><i class="fas fa-ad" data-v-3d642fa2></i></div> <div class="bottom " data-v-3d642fa2><i class="fas fa-qrcode" data-v-3d642fa2></i></div> <!----></div> <!----> <div class="frame" data-v-1134095c><div class="main" data-v-1134095c><div class="drawer" data-v-1134095c><div class="Drawer" data-v-5dae4bbf data-v-1134095c><div class="Brand card" data-v-69d01f34 data-v-5dae4bbf><div class="caption ifSmallest" data-v-69d01f34><span class="icon" data-v-69d01f34><i class="fas fa-id-card fa-fw" data-v-69d01f34></i></span> <span data-v-69d01f34>CARD</span></div> <div class="avatar" style="background-image:url('/assets/img/brand.png');" data-v-69d01f34></div> <div class="inner" data-v-69d01f34><div class="author" data-v-69d01f34>jinyaoMa</div> <div class="signature" data-v-69d01f34>issue, func, flow, std, solve</div> <div class="counter" data-v-69d01f34><span title="Count of Posts" data-v-69d01f34><i class="fas fa-archive fa-fw" data-v-69d01f34></i>
        15 </span>|
      <span title="Count of Categories" data-v-69d01f34><i class="fas fa-folder-open fa-fw" data-v-69d01f34></i>
        8 </span>|
      <span title="Count of Tags" data-v-69d01f34><i class="fas fa-tags fa-fw" data-v-69d01f34></i>
        24
      </span></div> <div class="contact" data-v-69d01f34><a target="_blank" href="https://github.com/jinyaoMa" title="jinyaoMa" data-v-69d01f34><i class="fab fa-github fa-fw"></i></a><a target="_blank" href="mailto://jinyao.ma@outlook.com" title="jinyao.ma@outlook.com" data-v-69d01f34><i class="fas fa-envelope fa-fw"></i></a><a target="_blank" href="tencent://Message/?uin=907881445" title="907881445" data-v-69d01f34><i class="fab fa-qq fa-fw"></i></a></div></div> <div class="minimize ifSmallest" data-v-69d01f34></div></div> <div class="Menu" data-v-0e40ca6a data-v-5dae4bbf><div class="card" data-v-0e40ca6a><div class="caption" data-v-0e40ca6a><span class="icon" data-v-0e40ca6a><i class="fas fa-sitemap fa-fw"></i></span> <span data-v-0e40ca6a>MENU</span></div> <div class="inner" data-v-0e40ca6a><a href="/" class="router-link-active" data-v-0e40ca6a><span class="icon" data-v-0e40ca6a><i class="fas fa-home fa-fw"></i></span> <span data-v-0e40ca6a>Home</span></a><a href="/archive/" data-v-0e40ca6a><span class="icon" data-v-0e40ca6a><i class="fas fa-archive fa-fw"></i></span> <span data-v-0e40ca6a>Archive</span></a><a href="/codes/" data-v-0e40ca6a><span class="icon" data-v-0e40ca6a><i class="fas fa-box fa-fw"></i></span> <span data-v-0e40ca6a>Code Library</span></a><a href="/icons/" data-v-0e40ca6a><span class="icon" data-v-0e40ca6a><i class="fas fa-icons fa-fw"></i></span> <span data-v-0e40ca6a>Icon Font Library</span></a><a href="/records/" data-v-0e40ca6a><span class="icon" data-v-0e40ca6a><i class="fas fa-edit fa-fw"></i></span> <span data-v-0e40ca6a>Records</span></a><a href="/gallery/" data-v-0e40ca6a><span class="icon" data-v-0e40ca6a><i class="fas fa-images fa-fw"></i></span> <span data-v-0e40ca6a>Gallery</span></a><a href="/about/" data-v-0e40ca6a><span class="icon" data-v-0e40ca6a><i class="fas fa-user fa-fw"></i></span> <span data-v-0e40ca6a>About</span></a></div> <div class="minimize" data-v-0e40ca6a></div></div></div> <div class="Skin card" data-v-3742b06a data-v-5dae4bbf><div class="caption" data-v-3742b06a><span class="icon" data-v-3742b06a><i class="fas fa-tshirt fa-fw" data-v-3742b06a></i></span> <span data-v-3742b06a>SKIN</span></div> <div class="inner" data-v-3742b06a><div title="Default" class="color " style="background:#696969;" data-v-3742b06a></div><div title="White &amp; Black" class="color " style="background:linear-gradient(120deg, #666666, #999999, #333333);" data-v-3742b06a></div><div title="JShine" class="color active" style="background:linear-gradient(120deg, #ff3300, #cc66ff, #00ccff);" data-v-3742b06a></div><div title="Memariani" class="color " style="background:linear-gradient(120deg, #cc6699, #6666cc, #33cccc);" data-v-3742b06a></div></div> <div class="minimize" data-v-3742b06a></div></div> <div class="Settings card" data-v-1297ae5c data-v-5dae4bbf><div class="caption" data-v-1297ae5c><span class="icon" data-v-1297ae5c><i class="fas fa-cog fa-fw" data-v-1297ae5c></i></span> <span data-v-1297ae5c>SETTINGS</span></div> <div class="inner" data-v-1297ae5c><div class=" " data-v-1297ae5c><span class="icon" data-v-1297ae5c><i class="fas fa-adjust fa-fw"></i></span> <span data-v-1297ae5c>Night Shift</span> <div class="switch" data-v-1297ae5c></div></div><div class=" " data-v-1297ae5c><span class="icon" data-v-1297ae5c><i class="fas fa-video-slash fa-fw"></i></span> <span data-v-1297ae5c>Disable Canvas</span> <div class="switch" data-v-1297ae5c></div></div><div class="active " data-v-1297ae5c><span class="icon" data-v-1297ae5c><i class="fas fa-globe-asia fa-fw"></i></span> <span data-v-1297ae5c>简体中文</span> <div class="switch" data-v-1297ae5c></div></div></div> <div class="minimize" data-v-1297ae5c></div></div></div></div> <div class="center " data-v-1134095c><div class="Translate card" data-v-2e2e3ae9 data-v-1134095c><div class="bar " data-v-2e2e3ae9><div title="Highlight words to translate - Supported by Baidu Translation API" class="sq highlight" data-v-2e2e3ae9><i class="fas fa-highlighter" data-v-2e2e3ae9></i></div> <div class="locales" data-v-2e2e3ae9><div data-v-2e2e3ae9>中文</div> <span data-v-2e2e3ae9>|</span> <div data-v-2e2e3ae9>English</div> <span data-v-2e2e3ae9>|</span> <div data-v-2e2e3ae9>日本語</div> <!----></div> <div title="Click to copy highlighted content above translation bar" class="sq copy" data-v-2e2e3ae9><i class="fas fa-copy" data-v-2e2e3ae9></i></div></div> <!----></div> <div data-v-1134095c><div class="Post" data-v-12a16612 data-v-1134095c><div class="Article card fix " data-v-2d8c9a66 data-v-12a16612><div class="caption" data-v-2d8c9a66><span class="icon" data-v-2d8c9a66><i class="fas fa-file fa-fw" data-v-2d8c9a66></i></span> <span data-v-2d8c9a66>PAGE CONTENT</span></div> <div class="inner" data-v-2d8c9a66><div class="meta  " data-v-2d8c9a66><div class="meta-title" data-v-2d8c9a66>TCP/IP 是什么？</div> <div class="meta-info" data-v-2d8c9a66><div class="info-date" data-v-2d8c9a66><i class="fas fa-calendar-alt fa-fw" data-v-2d8c9a66></i>
          2020-04-08
        </div> <div class="info-updated" data-v-2d8c9a66><i class="fas fa-calendar-check fa-fw" data-v-2d8c9a66></i>
          2020-06-09
        </div> <div class="info-categories" data-v-2d8c9a66><i class="fas fa-folder-open fa-fw" data-v-2d8c9a66></i> <span data-v-2d8c9a66><!----> <a href="/category/网络/" data-v-2d8c9a66>网络</a></span></div> <div class="info-wordcount" data-v-2d8c9a66><i class="fas fa-file-word fa-fw" data-v-2d8c9a66></i>
          2.4k
        </div> <div class="info-wordcount" data-v-2d8c9a66><i class="fas fa-stopwatch fa-fw" data-v-2d8c9a66></i>
          17 min.
        </div></div></div> <div class="markdown-body content__default" data-v-2d8c9a66><p><strong>本文大半内容都不对，弃了弃了~</strong></p> <p>自计算机和互联网出现，大多数计算机都被用于上网、发邮件或者只是通过网路使用一下网络共享打印机。计算机网络<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>可以连接各种功能不一样的电子设备，例如笔记本电脑、平板电脑、智能手机、服务器、打印机、扫描仪、路由器等设备。如果说以上设备连上网络后都算是“传统”节点，那在现在的物联网时代，各种计算机新品种就可以算作“非传统”节点了吧，毕竟现在能连网的设备真的是五花八门。再说征服王“互联网”现在真的可以说已经征服世界的情况下，计算机网络类型都可以分成5种：</p> <ul><li>PAN - 个人网络，一台电脑配打印机等设备</li> <li>LAN - 局域网，一个路由器下的网络</li> <li>WLAN - 无线局域网，一个无线路由器信号覆盖下的网络</li> <li>MAN - 都市网，一个城市的网络</li> <li>WAN - 广域网，一个省、国家或整个世界下的网络，比如互联网</li></ul> <p>在这么广阔的网络下，如果节点之间通讯只靠一个“节点ID”作为坐标来互动，那互动时所传输的数据恐怕是要迷路很久甚至有可能累死在路上。<strong>TCP/IP</strong><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>就包含了网络相关的标准规范。这个协议集合里的IP部分就很好的为迷路的数据指明了方向。</p> <p><strong>先来个更好的文章做参考：<a href="//developer.51cto.com/art/201906/597961.htm">太厉害了，终于有人能把TCP/IP协议讲的明明白白了！</a>，<a href="//tool.oschina.net/commons?type=7">TCP/UDP常见端口参考</a></strong></p> <p>网络上两个节点之间通讯需要3样东西来指路：</p> <ul><li>节点在网络上的地址（IP地址）</li> <li>节点的名称（MAC地址）</li> <li>节点里应用或服务接收数据的端口（Port端口）</li></ul> <h1 id="tcp-ip协议全家桶"><a href="#tcp-ip协议全家桶" class="header-anchor">#</a> TCP/IP协议全家桶</h1> <p>全家桶包含ARP, BGP, DHCP, DNS, FTP, HTTP, ICMP, IGMP, IP, TCP, Telnet, TFTP, UDP, WWW等。
节点上的TCP/IP栈，需跟随所运行的网络应用的要求，从全家桶中选择合适的协议；不同的节点有可能会使用不一样的TCP/IP栈。</p> <h2 id="网络体系结构osi七层模型"><a href="#网络体系结构osi七层模型" class="header-anchor">#</a> 网络体系结构OSI七层模型</h2> <table><thead><tr><th style="text-align:right;"></th> <th style="text-align:center;">名称</th> <th style="text-align:center;">功能</th> <th style="text-align:center;">TCP/IP协议族</th></tr></thead> <tbody><tr><td style="text-align:right;">7</td> <td style="text-align:center;">应用层(Applicaiton)</td> <td style="text-align:center;">终端用户的接口支持：文件传输，电子邮件，文件服务，虚拟终端</td> <td style="text-align:center;">TFTP, HTTP, SNMP, FTP, SMTP, DNS, Telnet</td></tr> <tr><td style="text-align:right;">6</td> <td style="text-align:center;">表示层(Presentation)</td> <td style="text-align:center;">数据格式化，代码转换，数据加密</td> <td style="text-align:center;">N/A</td></tr> <tr><td style="text-align:right;">5</td> <td style="text-align:center;">会话层(Session)</td> <td style="text-align:center;">连接管理：解除或建立与别的节点的联系</td> <td style="text-align:center;">N/A</td></tr> <tr><td style="text-align:right;">4</td> <td style="text-align:center;">传输层(Transport)</td> <td style="text-align:center;">端对端传输管理，提供端对端的接口</td> <td style="text-align:center;">TCP, UDP</td></tr> <tr><td style="text-align:right;">3</td> <td style="text-align:center;">网络层(Network)</td> <td style="text-align:center;">端对端路由，为数据包选择路由</td> <td style="text-align:center;">IP, ICMP, RIP, OSPF, BGP, IGMP</td></tr> <tr><td style="text-align:right;">2</td> <td style="text-align:center;">数据链路层(Data Link)</td> <td style="text-align:center;">网络接入和架构管理，传输有地址的帧以及错误检测功能</td> <td style="text-align:center;">SLIP, CSLIP, PPP, ARP, RARP, MTU</td></tr> <tr><td style="text-align:right;">1</td> <td style="text-align:center;">物理层(Physical)</td> <td style="text-align:center;">比特流生成和接收，以二进制数据形式在物理媒体上传输数据</td> <td style="text-align:center;">ISO2110, IEEE802, IEEE802.2</td></tr></tbody></table> <h1 id="ip协议"><a href="#ip协议" class="header-anchor">#</a> IP协议</h1> <p>IP协议理论上让每个网络不管大小都有一个唯一的IP地址（或称作“节点地址”），但事实上不是每个网络（小到一台电脑配一个打印机）都能独享世界唯一IP地址。讨论“不能独享世界唯一IP地址的情况下，数据到底怎么就不会迷路了？”的问题之前，我们要先认识IP地址的格式。</p> <h2 id="ipv4格式"><a href="#ipv4格式" class="header-anchor">#</a> IPv4格式</h2> <p>IPv4使用32-bit节点地址，分成4个8-bit部分，例如：</p> <p><code>01110000.11011110.11100110.00001111</code></p> <p>使用十进制的眼光来看这个节点地址就会变成这样：</p> <p><code>112.222.230.15</code></p> <p>每一个8-bit部分的最大值是255。
一个IP地址包含有两组信息：网络ID和节点ID。</p> <p>网络ID分为3类：</p> <ul><li>A类
<ul><li>IP地址范围：1.0.0.0 ~ 126.255.255.255</li> <li>A类网络ID为第1个8-bit部分</li> <li>例子：<code>112.222.230.15</code>属于A类，网络ID为<code>112</code>，节点ID为<code>222.230.15</code></li></ul></li> <li>B类
<ul><li>IP地址范围：128.0.0.0 ~ 191.255.255.255</li> <li>B类网络ID为第1-2个8-bit部分</li> <li>例子：<code>142.112.1.70</code>属于B类，网络ID为<code>142.112</code>，节点ID为<code>1.70</code></li></ul></li> <li>C类
<ul><li>IP地址范围：192.0.0.0 ~ 223.255.255.255</li> <li>C类网络ID为第1-3个8-bit部分</li> <li>例子：<code>192.168.1.1</code>属于C类，网络ID为<code>192.168.1</code>，节点ID为<code>1</code>
其中以127开头的IP地址为“回环地址”，数据信息的发送者发出的数据流会原样送回发送者。
网络ID越大，处于该网络下的主机或节点越少。一般家庭用的路由器网络ID为<code>192.168.1</code>的情况下最多只能连接254个设备。</li></ul></li></ul> <h2 id="ipv6格式"><a href="#ipv6格式" class="header-anchor">#</a> IPv6格式</h2> <p>IPv6使用128-bit节点地址，分成8个4位数的八进制16-bit部分，例如：</p> <p><code>2001:0000:5723:0000:0000:D14E:DBCA:0764</code></p> <p>也可以缩写成这样：</p> <p><code>2001:0:5723::D14E:DBCA:764</code></p> <p>其他例子：</p> <p><code>2001:0DA8:0000:0000:0001:0000:0000:0001</code> =&gt; <code>2001:DA8::1:0:0:1</code> OR <code>2001:DA8:0:0:1::1</code> <code>0:0:0:0:0:0:0:1</code> =&gt; <code>::1</code> <code>0:0:0:0:0:0:0:0</code> =&gt; <code>::</code></p> <p>开头64-bit包含了网络和子网络的地址，后面64-bit是接口ID。因为IPv6地址是直接赋予接口的，所以一个主机可以有多个IPv6地址对应不同的网络连接。下图拆开开头64-bit网络地址：
<img alt="IPv6 Prefix" data-src="/gallery/tcp-ip-ipv6-prefix.jpg" loading="lazy" class="lazy"></p> <h2 id="路由器"><a href="#路由器" class="header-anchor">#</a> 路由器</h2> <p>路由器是能连接多个网络的设备。它们决定了数据的去向，但它们一般都不是数据的最终接收者。数据在传输过程中有可能经过多个跳板<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>，一般这些数据跳的次数过多且还没到目的地的话就会累死在路上，造成的结果就是发送者得不到回应、响应超时或者收到路由甲回应的死亡信息。</p> <p>一个ID为<code>142.222</code>的网络例子：
<img alt="Network 142.222.x.x" data-src="/gallery/tcp-ip-router-network.jpg" loading="lazy" class="lazy">
在这个网络中，所有的主机或节点都是必须要向路由器<code>142.222.9.255</code>发送他们的数据，这样数据才可以在这个网络中畅行或者从这个网络发出到更外面的网络；所以在这里路由器<code>142.222.9.255</code>被称为是默认网关。</p> <p>假如在以上网络中主机<code>142.222.12.27</code>要发送数据到服务器<code>112.111.72.56</code>，数据会先到路由器<code>142.222.9.255</code>，路由器会通过路由表查找数据的下个传送目标（随便一提，需要解析域名的情况下，找到一个IP记录丰富的DNS也能让你的数据少跳跳板，数据极低概率会累死在路上）。</p> <p>假如在以上B类网络基础上存在<strong>子网络</strong>：
<img alt="Network 142.222.x.x with subnet" data-src="/gallery/tcp-ip-router-subnet.jpg" loading="lazy" class="lazy">
在子网络中主机<code>142.222.10.2</code>要发送数据到服务器<code>142.123.32.14</code>，数据会先到路由器<code>142.222.10.255</code>，再到外面网络的路由器<code>142.222.255.255</code>，再到更外面网络的路由器<code>142.255.255.255</code>；找到<code>142.255.255.255</code>的下级<code>142.123.255.255</code>，再到服务器<code>142.123.32.14</code>。当然，如果网络<code>142.123</code>底下也有子网络的话，就要通过网关<code>142.123.32.255</code>，之后才是服务器<code>142.123.32.14</code>。</p> <h2 id="mac地址"><a href="#mac地址" class="header-anchor">#</a> MAC地址</h2> <p>MAC地址一般说的就是网卡生产出来自带的12个十六进制数的ID，当然也可以通过软件生成一个随机的MAC地址，只要主机所在的网络路由器上的ARP表上没有就行。它能够在一个网络下确认主机发送者或接收者的身份。因为MAC地址都是厂家定的，对比IP地址，MAC地址就可以有唯一标识了，甚至一人手上说不定还能独享多个“唯一”。MAC地址例子如下：</p> <p><code>00-0B-DB-45-A4-CC</code></p> <p>前6个数代表制造商：<code>00-0B-DB</code>
后6个数为唯一编号：<code>45-A4-CC</code></p> <h2 id="arp协议"><a href="#arp协议" class="header-anchor">#</a> ARP协议</h2> <p>ARP协议让路由器记录下哪个IP地址对应哪个MAC地址。因为IP地址多数为动态，一个设备说不定某天就移民了，所以路由器一般都有一个ARP表记录和分配IP地址给底下的子民；要是有的子民刚移民过来没有记录在案，在有数据传送过来路由找不到人的情况下会发广播，以这样的操作令底下子民回应，之后强制记录在案。</p> <p><strong><em>更多可以百度TCP/IP全家桶各种协议，比较重要的还有数据包结构、DHCP<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>和DNS<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>。</em></strong></p> <hr class="footnotes-sep"> <section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>通过软硬件技术支持允许多台计算机之间交流和共享资源 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li> <li id="fn2" class="footnote-item"><p>目前主流的网络相关协议集合，包括应用层、传输层、网络层和网络接口层 <a href="#fnref2" class="footnote-backref">↩︎</a></p></li> <li id="fn3" class="footnote-item"><p>数据在传输过程中经过的路由器 <a href="#fnref3" class="footnote-backref">↩︎</a></p></li> <li id="fn4" class="footnote-item"><p>为网关节点管理下的主机进行动态IP地址的分配；有效防止人工操作的失误；有主机被迁移或更替的情况下能够自动更新配置 <a href="#fnref4" class="footnote-backref">↩︎</a></p></li> <li id="fn5" class="footnote-item"><p>域名服务器能够帮助解析域名到对应IP地址 <a href="#fnref5" class="footnote-backref">↩︎</a></p></li></ol></section></div> <div class="tail" data-v-2d8c9a66><div class="ending" data-v-2d8c9a66><span data-v-2d8c9a66>The post above ended</span> <i class="far fa-dot-circle fa-fw" data-v-2d8c9a66></i> <span data-v-2d8c9a66>Thanks for your reading</span></div> <div class="friend" data-v-2d8c9a66><div data-v-2d8c9a66>Come on! Write some comments, and your suggestions will improve the quality of my creative!</div> <div class="button" data-v-2d8c9a66>FRIEND ME</div> <div class="qrcode" data-v-2d8c9a66><div data-v-2d8c9a66><img src="/assets/img/qq.png" data-v-2d8c9a66> <div data-v-2d8c9a66>QQ</div></div><div data-v-2d8c9a66><img src="/assets/img/wechat.png" data-v-2d8c9a66> <div data-v-2d8c9a66>WeChat</div></div></div></div> <div class="share" data-v-2d8c9a66><!----></div> <div class="license" data-v-2d8c9a66><div class="frame" data-v-2d8c9a66><div data-v-2d8c9a66><span data-v-2d8c9a66>Post Author:</span> <a target="_blank" href="/" data-v-2d8c9a66>jinyaoMa</a></div> <div data-v-2d8c9a66><span data-v-2d8c9a66>Post Link:</span> <a target="_blank" href="/" data-v-2d8c9a66>/</a></div> <div data-v-2d8c9a66><span data-v-2d8c9a66>Copyright Notice:</span> <span data-v-2d8c9a66>All articles/posts in this website are licensed under <a target="_blank" href="//creativecommons.org/licenses/by-nc-sa/4.0/"><i class="fab fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</span></div></div></div> <div class="tags" data-v-2d8c9a66><a href="/tag/TCP/IP/" data-v-2d8c9a66># TCP/IP</a><a href="/tag/MAC/" data-v-2d8c9a66># MAC</a><a href="/tag/IPv6/" data-v-2d8c9a66># IPv6</a><a href="/tag/IPv4/" data-v-2d8c9a66># IPv4</a></div> <div class="pn" data-v-2d8c9a66><!----> <a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#" title="Newer Post: undefined" class="next" data-v-2d8c9a66></a></div></div> <div class="readmode" data-v-2d8c9a66><span data-v-2d8c9a66>Enable Read Mode</span> <i class="fas fa-book-open" data-v-2d8c9a66></i></div></div></div> <div class="Comment card" data-v-028e1257 data-v-12a16612><div class="caption" data-v-028e1257><span class="icon" data-v-028e1257><i class="fas fa-comments fa-fw" data-v-028e1257></i></span> <span data-v-028e1257>COMMENTS</span></div> <div class="inner" data-v-028e1257><!----></div> <div class="minimize" data-v-028e1257></div></div></div></div> <div class="Empty card" style="background-image:url('/assets/img/empty.png');" data-v-7176c082 data-v-1134095c></div></div> <div class="aside" data-v-1134095c><div class="Aside" data-v-d310051e data-v-1134095c><div class="Panel" data-v-34e36b8d data-v-d310051e><div class="card" data-v-34e36b8d><div class="caption" data-v-34e36b8d><span class="icon" data-v-34e36b8d><i class="fas fa-folder-open fa-fw"></i></span> <span data-v-34e36b8d>CATEGORIES</span></div> <div class="inner" data-v-34e36b8d><a href="/category/Blog/" style="font-size:1.0166666666666666rem;opacity:1;" data-v-34e36b8d>Blog</a><a href="/category/Hexo/" style="font-size:0.95rem;opacity:0.875;" data-v-34e36b8d>Hexo</a><a href="/category/网络/" style="font-size:0.8833333333333333rem;opacity:0.75;" data-v-34e36b8d>网络</a><a href="/category/Note/" style="font-size:0.8833333333333333rem;opacity:0.75;" data-v-34e36b8d>Note</a><a href="/category/SQL/" style="font-size:0.8166666666666667rem;opacity:0.625;" data-v-34e36b8d>SQL</a><a href="/category/Markdown/" style="font-size:0.8166666666666667rem;opacity:0.625;" data-v-34e36b8d>Markdown</a><a href="/category/数据结构与算法/" style="font-size:1.0166666666666666rem;opacity:1;" data-v-34e36b8d>数据结构与算法</a><a href="/category/Plugin/" style="font-size:0.8833333333333333rem;opacity:0.75;" data-v-34e36b8d>Plugin</a></div> <!----> <div class="minimize" data-v-34e36b8d></div></div><div class="card" data-v-34e36b8d><div class="caption" data-v-34e36b8d><span class="icon" data-v-34e36b8d><i class="fas fa-tags fa-fw"></i></span> <span data-v-34e36b8d>TAGS</span></div> <!----> <div class="inner" data-v-34e36b8d><a href="/tag/2048/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>2048</a><a href="/tag/Test/" style="font-size:0.8833333333333333rem;opacity:1;" data-v-34e36b8d>Test</a><a href="/tag/Command/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>Command</a><a href="/tag/Mustom/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>Mustom</a><a href="/tag/HTTP/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>HTTP</a><a href="/tag/HTTPS/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>HTTPS</a><a href="/tag/Oracle/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>Oracle</a><a href="/tag/SQL/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>SQL</a><a href="/tag/Links/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>Links</a><a href="/tag/基础/" style="font-size:0.8833333333333333rem;opacity:1;" data-v-34e36b8d>基础</a><a href="/tag/抽象数据类/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>抽象数据类</a><a href="/tag/Stack/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>Stack</a><a href="/tag/Queue/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>Queue</a><a href="/tag/TCP/IP/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>TCP/IP</a><a href="/tag/MAC/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>MAC</a><a href="/tag/IPv6/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>IPv6</a><a href="/tag/IPv4/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>IPv4</a><a href="/tag/线性表/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>线性表</a><a href="/tag/List/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>List</a><a href="/tag/old blog/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>old blog</a><a href="/tag/diary/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>diary</a><a href="/tag/JavaScript/" style="font-size:0.8833333333333333rem;opacity:1;" data-v-34e36b8d>JavaScript</a><a href="/tag/Big O/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>Big O</a><a href="/tag/音乐播放器/" style="font-size:0.8166666666666667rem;opacity:0.75;" data-v-34e36b8d>音乐播放器</a></div> <div class="minimize" data-v-34e36b8d></div></div></div> <div class="Audioplayer card" data-v-36ca48a9 data-v-d310051e><div class="caption" data-v-36ca48a9><span class="icon" data-v-36ca48a9><i class="fas fa-music fa-fw" data-v-36ca48a9></i></span> <span data-v-36ca48a9>PLAYLIST</span></div> <div class="inner" style="height:calc(297px + 90px);" data-v-36ca48a9><meting-js server="netease"type="playlist"id="4989572738"theme="var(--link)"list-max-height="297px"></meting-js></div> <div class="minimize" data-v-36ca48a9></div></div> <div class="Clustrmaps card" data-v-3e6631e1 data-v-d310051e><div class="caption" data-v-3e6631e1><span class="icon" data-v-3e6631e1><i class="fas fa-map fa-fw" data-v-3e6631e1></i></span> <span data-v-3e6631e1>Clustrmaps</span></div> <div class="inner" data-v-3e6631e1><script id="clustrmaps" data-v-3e6631e1></script></div> <div class="minimize" data-v-3e6631e1></div></div> <div class="Toc card" data-v-0fea4cca data-v-d310051e data-v-d310051e><div class="caption" data-v-0fea4cca><span class="icon" data-v-0fea4cca><i class="fas fa-bookmark fa-fw" data-v-0fea4cca></i></span> <span data-v-0fea4cca>TABLE OF CONTENTS</span></div> <div class="inner" data-v-0fea4cca><div data-v-0fea4cca><ul><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#tcp-ip协议全家桶">TCP/IP协议全家桶</a><ul><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#网络体系结构osi七层模型">网络体系结构OSI七层模型</a></li></ul></li><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#ip协议">IP协议</a><ul><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#ipv4格式">IPv4格式</a></li><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#ipv6格式">IPv6格式</a></li><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#路由器">路由器</a></li><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#mac地址">MAC地址</a></li><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#arp协议">ARP协议</a></li></ul></li></ul></div></div></div></div></div> <div class="footer" data-v-1134095c><div data-v-1134095c><div class="Footer" data-v-0b34c432 data-v-1134095c><div data-v-0b34c432>© 2019 - 2021 jinyaoMa</div> <div data-v-0b34c432></div> <div data-v-0b34c432>Theme <a target="_blank" href="//github.com/jinyaoMa/vuepress-theme-mustom" title="vuepress-theme-mustom">Mustom</a> By <a target="_blank" href="//github.com/jinyaoMa" title="jinyaoMa">jinyaoMa</a></div> <div class="footerCount" data-v-0b34c432><span title="Site total page views" data-v-0b34c432><i class="fas fa-eye fa-fw" data-v-0b34c432></i>
      ∞
    </span> <span title="Site total visitors" data-v-0b34c432><i class="fas fa-user-tie fa-fw" data-v-0b34c432></i>
      ∞
    </span> <span title="Site total word count" data-v-0b34c432><i class="fas fa-file-word fa-fw" data-v-0b34c432></i>
      15.3k
    </span></div> <div class="license" data-v-0b34c432><a class="by-nc-sa" target="_blank" href="//creativecommons.org/licenses/by-nc-sa/4.0/" title="Creative Commons Attribution-Noncommercial-ShareAlike 4.0 International license"></a></div></div></div></div></div></div> <div class="Notification default hide" data-v-3429fdee data-v-1134095c><div class="frame" data-v-3429fdee><div class="inner" data-v-3429fdee><div class="icon" data-v-3429fdee><i class="fas fa-exclamation-circle fa-fw"></i></div> <div class="msg" data-v-3429fdee>DEFAULT</div></div></div></div></div><div class="global-ui"><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:48px;bottom:0px;width:180px;height:270px;z-index:99999;opacity:1;pointer-events:none;"><canvas id="live2d_canvas" width="180" height="270" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:180px;height:270px;"></canvas></div></div></div>
    <script src="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/app.5514714f.js" defer></script><script src="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/5.8f03a21b.js" defer></script><script src="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/19.a5ea0502.js" defer></script><script src="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/9.efcfe850.js" defer></script><script src="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@1.1.3/assets/js/8.eec476d6.js" defer></script>
  </body>
</html>
